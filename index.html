<!DOCTYPE html>
<html>
<head>
    <title>Record Audio</title>
</head>
<body>
    <h2>Record Audio</h2>
    <p>Version: 1.0.3</p> <!-- Put the version number here -->

    <button id="record">Start Recording</button>
    <button id="stop" disabled>Stop Recording</button>
    <button id="play" disabled>Play Audio</button>

    <script>
    let mediaRecorder;
    let audioBlob;

    document.getElementById('record').onclick = function() {
        console.log('Recording...');
        navigator.mediaDevices.getUserMedia({ audio: true })
        .then(stream => {
            mediaRecorder = new MediaRecorder(stream, {mimeType: 'audio/mp3'});
            mediaRecorder.start();

            const audioChunks = [];
            mediaRecorder.addEventListener('dataavailable', event => {
                audioChunks.push(event.data);
            });

            mediaRecorder.addEventListener('stop', () => {
                console.log('Recording stopped...');
                audioBlob = new Blob(audioChunks, { type: 'audio/mp3' });
                console.log('Audio Blob created...');
                document.getElementById('play').disabled = false;
            });

            document.getElementById('stop').disabled = false;
            document.getElementById('record').disabled = true;
        });
    };

    document.getElementById('stop').onclick = function() {
        mediaRecorder.stop();
        document.getElementById('stop').disabled = true;
        document.getElementById('record').disabled = false;
    };

    document.getElementById('play').onclick = function() {
        console.log('Playing Audio...');
        const audioUrl = URL.createObjectURL(audioBlob);
        const audio = new Audio(audioUrl);
        audio.play().catch(error => console.log('Error playing audio:', error));
    };
    </script>
</body>
</html>
